## Practicalli Git Configuration
##
## Adjust paths if not saved in `~/.config/git/`

## ------ Identity ------ ##

# Default identity configuration
[include]
		path = ~/.config/git/identity-practicalli-john

# Over-ride identify for specific directories
[includeIf "gitdir:~/projects/company-name"]
		path = ~/.config/git/identity-company-name


## ------ Git Behaviour ------ ##

[core]
	# Set which editor to use for editing commit messages (when not included with -m)
	# VISUAL or EDITOR environment variables also set the choice of editor
	# vi used if not set.  Typical examples are nvim or emacsclient
	editor = astro

	# file and directory patterns to ignore across all projects
	excludesfile = ~/.config/git/ignore

	# Tool to page through long output (e.g. git log). `less` is default
	# pager = less

	# Ensure Linux & MacOSX line endings in checked out text files
	autocrlf = input

[commit]
	# Default commit message - useful if team has a commit message policy
	template = ~/.config/git/commit-message-template

[init]
	# scripts and hooks to add when creating a new local Git repository
	# templateDir = ~/.config/git/repo-template/

	# default branch name when creating a new local repository
	defaultBranch = main

[merge]
	# Include common parent when merge conflicts arise
	conflictstyle = diff3

[fetch]
	# Remove deleted remote branches from local repository
	prune = true

[merge]
	# Include common parent when merge conflicts arise
	conflictstyle = diff3

[push]
	# Set local brach to track new remote branch automatically
	# Requires Git 2.37.0
	autoSetupRemote = true


## ------ Git commands ------ ##

# command line shot cuts
[alias]
	branches = branch -av
	tags = tag -l
	lg = log --graph --decorate --relative-date --oneline
	lp = log --graph --pretty=format:'%C(cyan)%h%Creset - %C(bold yellow)%d%Creset %s %C(blue)(%ar) %C(magenta)%an%Creset' --all
	sitrep = status -sb
	sr = status -sb
	word = diff --word-diff
	unstage = reset HEAD
	empty = "git commit --allow-empty"

	# delete locate branches merged into the remote
	delete-local-merged = "!git fetch && git branch --merged | egrep -v 'master' | xargs git branch -d"

# Clone short-cuts
[url "git@github.com:practicalli/"]
	# git clone practicalli:repo-name
	insteadOf = practicalli:

[help]
	# Automatically change incorrectly typed commands
	# Set timeout (in 0.1 second steps) before git automatically changes the command
	# autocorrect = 50

[credential "https://github.com"]
	helper = !/usr/bin/gh auth git-credential
[credential "https://gist.github.com"]
	helper = !/usr/bin/gh auth git-credential
